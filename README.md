# MindCluster

 <div align="center">

 [![Zread](https://img.shields.io/badge/Zread-Ask_AI-_.svg?style=flat&color=0052D9&labelColor=000000&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuOTYxNTYgMS42MDAxSDIuMjQxNTZDMS44ODgxIDEuNjAwMSAxLjYwMTU2IDEuODg2NjQgMS42MDE1NiAyLjI0MDFWNC45NjAxQzEuNjAxNTYgNS4zMTM1NiAxLjg4ODEgNS42MDAxIDIuMjQxNTYgNS42MDAxSDQuOTYxNTZDNS4zMTUwMiA1LjYwMDEgNS42MDE1NiA1LjMxMzU2IDUuNjAxNTYgNC45NjAxVjIuMjQwMUM1LjYwMTU2IDEuODg2NjQgNS4zMTUwMiAxLjYwMDEgNC45NjE1NiAxLjYwMDFaIiBmaWxsPSIjZmZmIi8%2BCjxwYXRoIGQ9Ik00Ljk2MTU2IDEwLjM5OTlIMi4yNDE1NkMxLjg4ODEgMTAuMzk5OSAxLjYwMTU2IDEwLjY4NjQgMS42MDE1NiAxMS4wMzk5VjEzLjc1OTlDMS42MDE1NiAxNC4xMTM0IDEuODg4MSAxNC4zOTk5IDIuMjQxNTYgMTQuMzk5OUg0Ljk2MTU2QzUuMzE1MDIgMTQuMzk5OSA1LjYwMTU2IDE0LjExMzQgNS42MDE1NiAxMy43NTk5VjExLjAzOTlDNS42MDE1NiAxMC42ODY0IDUuMzE1MDIgMTAuMzk5OSA0Ljk2MTU2IDEwLjM5OTlaIiBmaWxsPSIjZmZmIi8%2BCjxwYXRoIGQ9Ik0xMy43NTg0IDEuNjAwMUgxMS4wMzg0QzEwLjY4NSAxLjYwMDEgMTAuMzk4NCAxLjg4NjY0IDEwLjM5ODQgMi4yNDAxVjQuOTYwMUMxMC4zOTg0IDUuMzEzNTYgMTAuNjg1IDUuNjAwMSAxMS4wMzg0IDUuNjAwMUgxMy43NTg0QzE0LjExMTkgNS42MDAxIDE0LjM5ODQgNS4zMTM1NiAxNC4zOTg0IDQuOTYwMVYyLjI0MDFDMTQuMzk4NCAxLjg4NjY0IDE0LjExMTkgMS42MDAxIDEzLjc1ODQgMS42MDAxWiIgZmlsbD0iI2ZmZiIvPgo8cGF0aCBkPSJNNCAxMkwxMiA0TDQgMTJaIiBmaWxsPSIjZmZmIi8%2BCjxwYXRoIGQ9Ik00IDEyTDEyIDQiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K&logoColor=ffffff)](https://zread.ai/Ascend/RecSDK)&nbsp;&nbsp;&nbsp;&nbsp;
 [![DeepWiki](https://img.shields.io/badge/DeepWiki-Ask_AI-_.svg?style=flat&color=0052D9&labelColor=000000&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAyCAYAAAAnWDnqAAAAAXNSR0IArs4c6QAAA05JREFUaEPtmUtyEzEQhtWTQyQLHNak2AB7ZnyXZMEjXMGeK/AIi+QuHrMnbChYY7MIh8g01fJoopFb0uhhEqqcbWTp06/uv1saEDv4O3n3dV60RfP947Mm9/SQc0ICFQgzfc4CYZoTPAswgSJCCUJUnAAoRHOAUOcATwbmVLWdGoH//PB8mnKqScAhsD0kYP3j/Yt5LPQe2KvcXmGvRHcDnpxfL2zOYJ1mFwrryWTz0advv1Ut4CJgf5uhDuDj5eUcAUoahrdY/56ebRWeraTjMt/00Sh3UDtjgHtQNHwcRGOC98BJEAEymycmYcWwOprTgcB6VZ5JK5TAJ+fXGLBm3FDAmn6oPPjR4rKCAoJCal2eAiQp2x0vxTPB3ALO2CRkwmDy5WohzBDwSEFKRwPbknEggCPB/imwrycgxX2NzoMCHhPkDwqYMr9tRcP5qNrMZHkVnOjRMWwLCcr8ohBVb1OMjxLwGCvjTikrsBOiA6fNyCrm8V1rP93iVPpwaE+gO0SsWmPiXB+jikdf6SizrT5qKasx5j8ABbHpFTx+vFXp9EnYQmLx02h1QTTrl6eDqxLnGjporxl3NL3agEvXdT0WmEost648sQOYAeJS9Q7bfUVoMGnjo4AZdUMQku50McDcMWcBPvr0SzbTAFDfvJqwLzgxwATnCgnp4wDl6Aa+Ax283gghmj+vj7feE2KBBRMW3FzOpLOADl0Isb5587h/U4gGvkt5v60Z1VLG8BhYjbzRwyQZemwAd6cCR5/XFWLYZRIMpX39AR0tjaGGiGzLVyhse5C9RKC6ai42ppWPKiBagOvaYk8lO7DajerabOZP46Lby5wKjw1HCRx7p9sVMOWGzb/vA1hwiWc6jm3MvQDTogQkiqIhJV0nBQBTU+3okKCFDy9WwferkHjtxib7t3xIUQtHxnIwtx4mpg26/HfwVNVDb4oI9RHmx5WGelRVlrtiw43zboCLaxv46AZeB3IlTkwouebTr1y2NjSpHz68WNFjHvupy3q8TFn3Hos2IAk4Ju5dCo8B3wP7VPr/FGaKiG+T+v+TQqIrOqMTL1VdWV1DdmcbO8KXBz6esmYWYKPwDL5b5FA1a0hwapHiom0r/cKaoqr+27/XcrS5UwSMbQAAAABJRU5ErkJggg==)](https://deepwiki.com/Ascend/RecSDK)
 	  	 
</div>


-   [最新消息](#最新消息)
-   [简介](#简介)
-   [目录结构](#目录结构)
-   [版本说明](#版本说明)
-   [兼容性信息](#兼容性信息)
-   [环境部署](#环境部署)
-   [快速入门](#快速入门)
-   [特性介绍](#特性介绍)
-   [API参考](#API参考)
-   [FAQ](#FAQ)
-   [安全声明](#安全声明)
-   [分支维护策略](#分支维护策略)
-   [版本维护策略](#版本维护策略)
-   [免责声明](#免责声明)
-   [License](#License)
-   [贡献声明](#贡献声明)
-   [建议与交流](#建议与交流)

# 最新消息

- [2026.01.13]: 🚀 NPU Exporter支持输出SN序列号
- [2026.01.13]: 🚀 支持基于AIBrix vLLM服务化实例级重调度
- [2026.01.13]: 🚀 基于AIBrix定义的PD分离CRD一键部署vLLM推理服务
- [2026.01.13]: 🚀 基于OME定义的PD分离CRD一键部署SGLang推理服务
- [2026.01.13]: 🚀 支持SGLang OME部署与实例级重调度
- [2026.01.13]: 🚀 调度与资源控制对象解耦
- [2026.01.13]: 🚀 调度资源占用优化，任务入队一定时间后未调度则重新入队
- [2026.01.13]: 🚀 支持公共故障预隔离
- [2026.01.13]: 🚀 NPU Exporter支持自定义指标
- [2026.01.13]: 🚀 支持A3推理多实例任务调度
- [2026.01.13]: 🚀 A3兼容A2 accelerator-type资源类型
- [2026.01.13]: 🚀 volcano1.10、1.11、1.12；k8s 1.31、1.32、1.34；docker 28.5.1、containerd 2.1.4兼容性验证
- [2026.01.13]: 🚀 一体机推理任务容器守护进程参考设计
- [2026.01.13]: 🚀 一体机的NPU故障检测与恢复
- [2026.01.13]: 🚀 调度器支持StatefulSet功能
- [2026.01.13]: 🚀 支持MindSpore框架下亚健康热切
- [2026.01.13]: 🚀 训练快恢易用性增强

# 简介

    MindCluster（AI集群系统软件）是支持NPU（昇腾AI处理器）训练和推理硬件的深度学习组件，使能构建集群全流程运行，提供NPU集群作业调度、运维监测、故障恢复等功能。深度学习平台开发厂商可以减少底层资源调度相关软件开发工作量，快速使能合作伙伴基于MindCluster开发深度学习平台。

# 目录结构

``` 
├─ build
└─ component
   ├─ ascend-common
   │  ├─ api
   │  │  ├─ ascend-operator
   │  │  │  ├─ apis      
   │  │  │  │  └─ batch
   │  │  │  │     └─ v1
   │  │  │  └─ client
   │  │  │     ├─ clientset
   │  │  │     │  └─ versioned
   │  │  │     │     ├─ scheme            
   │  │  │     │     └─ typed
   │  │  │     │        └─ batch   
   │  │  │     │           └─ v1
   │  │  │     ├─ informers
   │  │  │     │  └─ externalversions
   │  │  │     │     ├─ batch
   │  │  │     │     │  └─ v1
   │  │  │     │     └─ internalinterfaces
   │  │  │     └─ listers
   │  │  │        └─ batch
   │  │  │           └─ v1
   │  │  └─ slownet                               
   │  ├─ common-utils
   │  │  ├─ cache   
   │  │  ├─ ethtool  
   │  │  ├─ hwlog
   │  │  ├─ limiter
   │  │  ├─ rand  
   │  │  └─ utils  
   │  └─ devmanager
   │     ├─ common   
   │     ├─ dcmi   
   │     └─ hccn   
   ├─ ascend-device-plugin
   │  ├─ build
   │  ├─ doc
   │  │  └─ figures   
   │  └─ pkg
   │     ├─ common
   │     ├─ device   
   │     │  └─ deviceswitch
   │     ├─ kubeclient 
   │     ├─ next 
   │     │  └─ deviceswitch    
   │     │      └─ customname
   │     └─ server
   ├─ ascend-docker-runtime
   │  ├─ assets
   │  ├─ build
   │  │  ├─ libboundscheck
   │  │  ├─ makeself-header
   │  │  └─ scripts   
   │  ├─ cli
   │  │  ├─ src
   │  │  └─ test
   │  │     ├─ dt
   │  │     └─ dt_go   
   │  ├─ destroy
   │  │  └─ src   
   │  ├─ hook 
   │  │  └─ process   
   │  ├─ install
   │  │  └─ process   
   │  ├─ mindxcheckutils           
   │  ├─ opensource           
   │  ├─ output           
   │  ├─ platform           
   │  └─ runtime           
   │     ├─ dcmi     
   │     └─ process     
   ├─ ascend-faultdiag-online
   │   ├─env_validation
   │   └─prometheus
   │       ├─base
   │       └─prometheus_operator
   ├─ ascend-for-volcano
   │  ├─ build           
   │  ├─ common
   │       ├─ k8s             
   │       └─ util             
   │  ├─ config           
   │  ├─ doc
   │       └─ figures              
   │  ├─ internal
   │  │    ├─ npu   
   │  │    │  ├─ ascend310   
   │  │    │  │  ├─ card310x4              
   │  │    │  │  └─ chip310x4              
   │  │    │  ├─ ascend310p  
   │  │    │  │  ├─ card310px2              
   │  │    │  │  ├─ chip310px2                  
   │  │    │  │  └─ vnpu                  
   │  │    │  ├─ ascend910
   │  │    │  │  ├─ ascend910a3              
   │  │    │  │  │  ├─ module910a3x16              
   │  │    │  │  │  └─ superpod              
   │  │    │  │  ├─ ascend910b 
   │  │    │  │  │  ├─ module910bx16              
   │  │    │  │  │  └─ vnpu                    
   │  │    │  │  └─ ascend910old
   │  │    │  │     └─ module910x8                        
   │  │    │  ├─ base              
   │  │    │  └─ vnpu
   │  │    ├─ nslb                 
   │  │    ├─ rescheduling                 
   │  │    └─ test                 
   │  ├─ output           
   │  ├─ plugin           
   │  ├─ test           
   │  └─ testdata  
   │     └─ tor
   ├─ ascend-operator
   │  ├─ build                
   │  └─ pkg
   │    ├─ api
   │    │  └─ v1       
   │    ├─ controllers
   │    │  ├─ scaling      
   │    │  └─ v1       
   │    ├─ ranktable 
   │    │  ├─ common      
   │    │  ├─ generator      
   │    │  ├─ utils      
   │    │  ├─ v1      
   │    │  └─ v1dot2      
   │    ├─ testtool    
   │    └─ utils    
   ├─ clusterd
   │  ├─ build                
   │  └─ pkg
   ├─ container-manager
   │  ├─ build                
   │  └─ pkg
   │    ├─ command
   │    ├─ common
   │    ├─ container
   │    │  ├─ app   
   │    │  └─ domain   
   │    ├─ devmgr
   │    ├─ fault
   │    │  ├─ app   
   │    │  └─ domain   
   │    ├─ reset
   │    │  ├─ app   
   │    │  └─ domain   
   │    └─ workflow
   ├─ noded
   │  ├─ build                
   │  └─ pkg
   ├─ npu-exporter
   │  ├─ build                
   │  ├─ cmd                
   │  ├─ collector                
   │  ├─ platforms                
   │  ├─ plugins                
   │  ├─ tuils                
   │  └─ versions                                 
   ├─ taskd
   │  ├─ build   
   │  ├─ plugins   
   │  ├─ taskd   
   │  ├─ tests   
   │  ├─ venv   
   │  └─ Scripts   
```

# 版本说明

MindCluster版本配套详情请参考：[版本配套详情](/docs/zh/release_notes.md)

# 兼容性信息

MindCluster基础调度特性与断点续训特性支持的框架：Pytorch、MindSpore。

# 环境部署

介绍MindCluster的编译及安装方式。

## 编译

1.  拉取mind-cluster整体源码，例如放在/home目录下。

2.  修改组件版本配置文件service_config.ini中mind-cluster-version字段值为所需编译版本，默认值如下：

        mind-cluster-version=6.0.0

3.  执行以下命令，进入/home/mind-cluster/build目录，选择构建脚本执行：

    **cd /home/mind-cluster/build**

        dos2unix *.sh && chmod +x *.sh
        
        ./build_all.sh $GOPATH

4.  执行完成后进入/home/mind-cluster，在各组件“output”目录下生成编译完成的文件。

5.  此处使用的go版本为1.21。


## 组件安装

在安装和使用集群调度组件前，用户需要提前了解[集群调度组件的特性](./docs/zh/scheduling/introduction.md)，并根据具体特性的特点和功能，选择需要使用的特性并[安装相应的组件](./docs/zh/scheduling/installation_guide.md#安装部署)。

# 快速入门

MindCluster将以单台Atlas 800T A2 训练服务器（同时作为管理节点和计算节点）为例，指导开发者快速完成NodeD、Ascend Device Plugin、Ascend Docker Runtime、Volcano、ClusterD、Ascend Operator组件的安装及使用整卡调度特性快速下发训练任务。具体的操作请参考：[快速入门](./docs/zh/scheduling/quick_start.md)。

# 特性介绍

MindCluster组件提供资源调度功能，支持NPU集群作业调度、运维监测、故障恢复等功能。具体特性介绍如下：

| 特性名称       | 介绍                                                                                                            | Released |
|------------|---------------------------------------------------------------------------------------------------------------|----------|
| 容器化支持特性    | [link](./docs/zh/scheduling/usage/containerization.md) | ✅ |
| 资源监测特性     | [link](./docs/zh/scheduling/usage/resource_monitoring.md)                                                                                                 | ✅ |
| 虚拟化实例特性    | [link](./docs/zh/scheduling/usage/virtual_instance.md)                                                                                                  | ✅ |
| 基础调度特性     | [link](./docs/zh/scheduling/usage/basic_scheduling.md)                                                                                                    | ✅ |
| 断点续训特性     |[link](./docs/zh/scheduling/usage/resumable_training.md)                                                                                                  | ✅ |
| 一体机特性     |[link](./docs/zh/scheduling/usage/appliance.md)                                                                                                  | ✅ |
| MindIE Motor推理任务最佳实践 |[link](./docs/zh/scheduling/usage/mindie_motor_best_practice.md)   | ✅ |
| SGLang推理任务最佳实践 |[link](./docs/zh/scheduling/usage/sglang_best_practice.md)   | ✅ |
| vLLM推理任务最佳实践 |[link](./docs/zh/scheduling/usage/vllm_best_practice.md)   | ✅ |

# API参考

API参考请参考：[API参考](./docs/zh/scheduling/api/npu_exporter.md)。

# FAQ

相关FAQ请参考：[FAQ](./docs/zh/scheduling/faq.md)。

# 安全声明

- 当前容器方式部署本组件，本组件的认证鉴权方式为ServiceAccount，该认证鉴权方式为ServiceAccount的token明文显示，建议用户自行进行安全加强。
- 当前特权容器方式部署，该容器权限具有一定风险，建议用户自行进行安全加强。
- 其他安全声明详见：[安全声明](./docs/zh/scheduling/references.md#安全加固)
- 通信矩阵详见：[通信矩阵](https://gitcode.com/Ascend/mind-cluster/wiki/Home.md)
- 公网地址详见：[公网地址](./docs/zh/resource/MindCluster%207.3.0%20公网地址.xlsx)

# 分支维护策略

版本分支的维护阶段如下：

| 状态          | 时间     | 说明                                                      |
|-------------|--------|---------------------------------------------------------|
| 计划          | 1-3个月  | 计划特性                                                    |
| 开发          | 3个月    | 开发新特性并修复问题，定期发布新版本                                      | 
| 维护          | 3-12个月 | 常规分支维护3个月，长期支持分支维护12个月。对重大BUG进行修复，不合入新特性，并视BUG的影响发布补丁版本 | 
| 生命周期终止（EOL） | N/A    | 分支不再接受任何修改                                              |

# 版本维护策略

| 版本       | 维护策略 | 当前状态 | 发布日期       | 后续状态               | EOL日期      |
|----------|------|------|------------|--------------------|------------|
| master   | 长期支持 | 开发   | 在研分支，不发布   | 2025-10-27         | -          |
| v7.3.0   | 长期支持 | 开发   | 在研分支，未发布   | 2025-10-27         | -          |
| v7.2.RC1 | 常规分支 | 维护   | 2025-10-25 | 预计2026/1/25起进入无维护状态 | 2025-10-27 |
| v7.1.RC1 | 常规分支 | EOL   | 2025-07-24 |           | 2025-10-24 |
| v7.0.RC1 | 常规分支 | EOL   | 2025-04-27 |           | 2025-07-27 |
| v6.0.0   | 长期支持 | 维护   | 2024-12-31 | 预计2025-12-31起进入无维护状态         |            |
| v6.0.RC3 | 常规分支 | EOL   | 2024-11-20 |           | 2025-02-20 |
| v6.0.RC2 | 常规分支 | EOL   | 2024-11-20 |           | 2025-02-20 |
| v6.0.RC1 | 常规分支 | EOL   | 2024-11-20 |          | 2025-02-20 |
| v5.0.0   | 长期支持 | EOL  | 2023-11-20 |           | 2024-11-20 |


# 免责声明

- 本仓库代码中包含多个开发分支，这些分支可能包含未完成、实验性或未测试的功能。在正式发布前，这些分支不应被应用于任何生产环境或者依赖关键业务的项目中。请务必使用我们的正式发行版本，以确保代码的稳定性和安全性。
  使用开发分支所导致的任何问题、损失或数据损坏，本项目及其贡献者概不负责。
- 正式版本请参考release版本 <https://gitcode.com/ascend/mind-cluster/releases>

# License

MindCluster以Apache 2.0许可证许可，对应许可证文本可查阅[LICENSE文件](https://gitcode.com/Ascend/mind-cluster/blob/master/LICENSE)。

介绍MindCluster docs目录下的文档适用CC-BY 4.0许可证，具体请参见[LICENSE文件](./docs/LICENSE)。

# 贡献声明

- 贡献前，请先签署[开放项目贡献者许可协议（CLA）](https://clasign.osinfra.cn/sign/gitee_ascend-1611222220829317930)。
- 如果您遇到bug，请提交[issue](https://gitcode.com/Ascend/mind-cluster/issues)。
- 如果您计划贡献bug-fixes，请提交Pull Requests，参见[具体要求](https://gitcode.com/Ascend/mind-cluster/blob/master/contributing.md#PullRequest)。
- 如果您计划贡献新特性、功能，请先创建issue与我们讨论。写明需求背景/目的，如何设计，对现有API等的影响。未经讨论提交PR可能会导致请求被拒绝，因为项目演进方向可能与您的想法存在偏差。
- 更详细的贡献流程，请参考[贡献指南](https://gitcode.com/Ascend/mind-cluster/blob/master/contributing.md)。

# 建议与交流

欢迎大家为社区做贡献。如果有任何疑问或建议，请提交[issue](https://gitcode.com/Ascend/mind-cluster/issues)，我们会尽快回复。感谢您的支持。
