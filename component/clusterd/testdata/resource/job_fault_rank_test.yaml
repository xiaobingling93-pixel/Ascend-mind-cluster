# device info in cm manager
mindx-dl-deviceinfo-node1:
  CmName: "mindx-dl-deviceinfo-node1"
  DeviceList:
    huawei.com/Ascend910-Fault: |
      [
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-0", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-1", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-2", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-3", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-4", "fault_code": "80E01801,11111111,22222222", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-4", "fault_code": "33333333", "fault_time": 100000 }
      ]
mindx-dl-deviceinfo-node2:
  CmName: "mindx-dl-deviceinfo-node2"
  DeviceList:
    huawei.com/Ascend910-Fault: |
      [
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-0", "fault_code": "80E01801,22222222", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-1", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-2", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-3", "fault_code": "80E01801", "fault_time": 100000 },
        { "fault_type": "<uce fault type>", "npu_name": "Ascend910-4", "fault_code": "80E01801", "fault_time": 100000 }
      ]
---
# job info in JobMgr
job1:
  CMData:
    server_list:
      - device:
          - device_id: 0
            rank_id: 0
        server_name: node1
      - device:
          - device_id: 0
            rank_id: 1
        server_name: node2
job2:
  CMData:
    server_list:
      - device:
          - device_id: 1
            rank_id: 2
        server_name: node1
      - device:
          - device_id: 1
            rank_id: 3
        server_name: node2
job3:
  CMData:
    server_list:
      - device:
          - device_id: 2
            rank_id: 4
        server_name: node1
      - device:
          - device_id: 2
            rank_id: 5
        server_name: node2
job4:
  CMData:
    server_list:
      - device:
          - device_id: 3
            rank_id: 6
        server_name: node1
      - device:
          - device_id: 3
            rank_id: 7
        server_name: node2
job5:
  CMData:
    server_list:
      - device:
          - device_id: 4
            rank_id: 8
        server_name: node1
      - device:
          - device_id: 4
            rank_id: 9
        server_name: node2
---
# expect job fault rank
job1:
  jobId: job1
  faultList:
    - rankId: 0
      faultCode: 80E01801
    - rankId: 1
      faultCode: 80E01801
    - rankId: 1
      faultCode: 22222222
job2:
  jobId: job2
  faultList:
    - rankId: 2
      faultCode: 80E01801
    - rankId: 3
      faultCode: 80E01801
job3:
  jobId: job3
  faultList:
    - rankId: 4
      faultCode: 80E01801
    - rankId: 5
      faultCode: 80E01801
job4:
  jobId: job4
  faultList:
    - rankId: 6
      faultCode: 80E01801
    - rankId: 7
      faultCode: 80E01801
job5:
  jobId: job5
  faultList:
    - rankId: 8
      faultCode: 80E01801
    - rankId: 8
      faultCode: 11111111
    - rankId: 8
      faultCode: 22222222
    - rankId: 8
      faultCode: 33333333
    - rankId: 9
      faultCode: 80E01801